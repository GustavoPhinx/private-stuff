(this["webpackJsonppatent-analytics"]=this["webpackJsonppatent-analytics"]||[]).push([[0],{97:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var a,r=n(0),i=n.n(r),c=n(68),s=n.n(c),o=n(61),u=n(9),h=n(12),d=n.n(h),p=n(16),l=n(126),b=n(127),f=n(8),j=n(1),v=Object(r.createContext)({}),O=function(t){var e=t.children,n=Object(r.useState)({}),a=Object(f.a)(n,2),i=a[0],c=a[1],s=Object(r.useState)({}),o=Object(f.a)(s,2),u=o[0],h=o[1],d=Object(r.useState)({}),p=Object(f.a)(d,2),l=p[0],b=p[1],O=Object(r.useMemo)((function(){return{companyData:i,setCompanyData:c,companyYearlyPatents:u,setCompanyYearlyPatents:h,companyPatents:l,setCompanyPatents:b}}),[i,u,l]);return Object(j.jsx)(v.Provider,{value:O,children:e})},g=function(){return Object(r.useContext)(v)},y=n(71),x=n.n(y),m=function(){var t=g().companyYearlyPatents,e=Object(r.useState)({}),n=Object(f.a)(e,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){var e,n;i({options:{chart:{id:"year"},xaxis:{categories:null===t||void 0===t||null===(e=t.years)||void 0===e?void 0:e.map((function(t){var e=t.year_id;return Number(e)})).sort()}},series:[{name:"Registered patents",data:null===t||void 0===t||null===(n=t.years)||void 0===n?void 0:n.map((function(t){return Number(t.year_num_patents_for_assignee)})).sort()}]})}),[t]),Object(j.jsx)("div",{children:!!a.options&&Object(j.jsx)(x.a,{type:"line",options:a.options,series:a.series,width:"500"})})},_=function(){return Object(j.jsx)("div",{children:Object(j.jsx)(m,{})})},k="/assignees/query",S=n(20),w=n(25),C=n(26);!function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE"}(a||(a={}));var E,P,T,N={baseUrl:"",headers:{}},J=function(){function t(e){Object(w.a)(this,t),this.config=void 0,this.onSuccess=void 0,this.onError=void 0,this.config=Object(S.a)(Object(S.a)({},N),e)}return Object(C.a)(t,[{key:"Headers",get:function(){return this.config.headers||{}},set:function(t){this.config.headers=t}},{key:"execute",value:function(){var t=Object(p.a)(d.a.mark((function t(e,n,a){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.doCall(e,n,a);case 3:if(r=t.sent,!this.onSuccess){t.next=7;break}return t.next=7,this.onSuccess(r);case 7:return t.abrupt("return",r);case 10:if(t.prev=10,t.t0=t.catch(0),!this.onError){t.next=15;break}return t.next=15,this.onError(t.t0);case 15:throw t.t0;case 16:case"end":return t.stop()}}),t,this,[[0,10]])})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=Object(p.a)(d.a.mark((function t(e,n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.execute(a.GET,e,n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(p.a)(d.a.mark((function t(e,n,r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.execute(a.POST,e,r?Object(S.a)(Object(S.a)({},r),{},{body:n}):{body:n}));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"put",value:function(){var t=Object(p.a)(d.a.mark((function t(e,n,r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.execute(a.PUT,e,r?Object(S.a)(Object(S.a)({},r),{},{body:n}):{body:n}));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"patch",value:function(){var t=Object(p.a)(d.a.mark((function t(e,n,r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.execute(a.PATCH,e,r?Object(S.a)(Object(S.a)({},r),{},{body:n}):{body:n}));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(p.a)(d.a.mark((function t(e,n,r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.execute(a.DELETE,e,r?Object(S.a)(Object(S.a)({},r),{},{body:n}):{body:n}));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()}]),t}(),U=n(54),q=n(53),D=function(t){Object(U.a)(n,t);var e=Object(q.a)(n);function n(){return Object(w.a)(this,n),e.apply(this,arguments)}return Object(C.a)(n,[{key:"doCall",value:function(){var t=Object(p.a)(d.a.mark((function t(e,n,a){var r,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(this.config.baseUrl+n,Object(S.a)({method:e,body:(null===a||void 0===a?void 0:a.body)?JSON.stringify(a.body):void 0,headers:(null===a||void 0===a?void 0:a.headers)?Object(S.a)(Object(S.a)({},this.config.headers),a.headers):this.config.headers},this.config.credentials?{credentials:this.config.credentials}:{}));case 3:return r=t.sent,t.next=6,r.text();case 6:if(i=t.sent,!(r.status<200||r.status>=300)){t.next=9;break}throw i;case 9:return t.abrupt("return",{data:JSON.parse(i),statusCode:r.status,headers:r.headers});case 12:if(t.prev=12,t.t0=t.catch(0),!r){t.next=16;break}throw{data:null,error:t.t0,statusCode:r.status,headers:r.headers};case 16:throw t.t0;case 17:case"end":return t.stop()}}),t,this,[[0,12]])})));return function(e,n,a){return t.apply(this,arguments)}}()}]),n}(J),H=function(t){return Object.entries(t).map((function(t){var e=Object(f.a)(t,2),n=e[0],a=e[1];return"".concat(n,"=").concat(a)})).join("&")},M=function(){function t(e){Object(w.a)(this,t),this.path=void 0,this._httpService=void 0,this.path=e}return Object(C.a)(t,[{key:"httpService",get:function(){if(!this._httpService)throw new Error("Http Service not set");return this._httpService},set:function(t){this._httpService=t}},{key:"getFullPathWithQuery",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e?"".concat(this.path,"/").concat(e):this.path;return Object.keys(t).length?"".concat(n,"?").concat(H(t)):n}},{key:"find",value:function(t){return this.httpService.get(this.getFullPathWithQuery(t))}},{key:"create",value:function(t,e){var n=e?"".concat(this.path,"/").concat(e):this.path;return this.httpService.post(n,t)}},{key:"update",value:function(t,e,n){var a=this.path;return t?a="".concat(this.path,"/").concat(t):n&&(a="".concat(this.path,"/").concat(n)),this.httpService.put(a,e||{})}},{key:"remove",value:function(t,e,n){var a=this.path;return t?a="".concat(this.path,"/").concat(t):n&&(a="".concat(this.path,"/").concat(n)),this.httpService.delete(a,e||{})}}]),t}(),F=function(){function t(){Object(w.a)(this,t),this.endpoints=new Map,this.options=new Map}return Object(C.a)(t,[{key:"register",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.endpoints.set(t,e),this.options.set(t,n)}},{key:"get",value:function(t){if(!this.endpoints.has(t))throw new Error("Unregistered endpoint ".concat(t));return[this.endpoints.get(t),this.options.get(t)]}}]),t}(),W=function(){function t(e,n){Object(w.a)(this,t),this.baseUrl=void 0,this.options=void 0,this._httpService=void 0,this.endpointManager=new F,this.baseUrl=e,this.options=n||{},this.init()}return Object(C.a)(t,[{key:"httpService",get:function(){if(!this._httpService)throw new Error("Http Service not configured properly");return this._httpService}},{key:"init",value:function(){var t=this.getHttpService();this._httpService=new t(Object(S.a)({baseUrl:this.baseUrl},this.options)),this.config()}},{key:"registerEndpoint",value:function(t){return this.endpointManager.register(t),this}},{key:"getEndpoint",value:function(t){var e=this.endpointManager.get(t),n=new(0,Object(f.a)(e,1)[0])(t);return n.httpService=this.httpService,n}}]),t}(),R=Object(r.createContext)({api:null}),L=function(t){var e=t.api,n=t.children,a=Object(r.useRef)(e),i=Object(r.useMemo)((function(){return{api:a.current}}),[]);return Object(j.jsx)(R.Provider,{value:i,children:n})},z=function(){return Object(r.useContext)(R)},A=function(t){var e=z().api;return Object(r.useRef)(e.getEndpoint(t)).current},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=A(t),a=Object(r.useRef)(e.query),i=Object(r.useState)(void 0),c=Object(f.a)(i,2),s=c[0],o=c[1],u=Object(r.useState)(void 0),h=Object(f.a)(u,2),l=h[0],b=h[1],j=Object(r.useState)(!1),v=Object(f.a)(j,2),O=v[0],g=v[1],y=Object(r.useCallback)(Object(p.a)(d.a.mark((function t(){var e,r,i,c,s=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:{},r=e.query,t.prev=2,g(!0),i=r||a.current,t.next=7,n.find(i);case 7:return c=t.sent,b(void 0),o(c.data),t.abrupt("return",c.data);case 13:throw t.prev=13,t.t0=t.catch(2),o(void 0),b(t.t0.error),t.t0;case 18:return t.prev=18,g(!1),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[2,13,18,21]])}))),[n]);return{data:s,loading:O,error:l,call:y}},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I(k,t)},G=function(){var t=g(),e=t.companyData,n=t.setCompanyYearlyPatents,a=Y().call;return Object(r.useEffect)((function(){Object(p.a)(d.a.mark((function t(){var r,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return c=e.assignee_id,r={q:JSON.stringify({_and:[{assignee_id:c}]}),f:JSON.stringify(["year_id","year_num_patents_for_assignee"])},t.next=4,a({query:r});case 4:i=t.sent,n(i.assignees[0]);case 6:case"end":return t.stop()}var c}),t)})))()}),[e,a,n]),Object(j.jsxs)(l.a,{container:!0,height:"100vh",alignItems:"center",flexDirection:"column",children:[Object(j.jsx)(l.a,{item:!0,xl:5,md:7,xs:12,marginTop:5,children:Object(j.jsx)(b.a,{variant:"h2",fontWeight:"bold",children:"Patent analytics beta"})}),Object(j.jsx)(l.a,{item:!0,xl:5,md:7,xs:12,children:Object(j.jsx)(_,{})})]})},K=n(32),B=n(50),Q=n(128),V=n(123),X=n(122),Z=n(129),$=n(130),tt=n(119),et=function(t){var e=t.searchValue,n=t.handleChange,a=t.handleKeyPress,r=t.handleSearch;return Object(j.jsxs)(Q.a,{fullWidth:!0,variant:"outlined",children:[Object(j.jsx)(V.a,{htmlFor:"outlined-search-box",children:"Search for a company and press Enter..."}),Object(j.jsx)(X.a,{fullWidth:!0,id:"outlined-search-box",label:"Search for a company and press Enter...",type:"search",value:e,onChange:n,onKeyPress:a,endAdornment:Object(j.jsx)(Z.a,{position:"end",children:Object(j.jsx)($.a,{"aria-label":"loop search icon",onClick:r,edge:"end",children:Object(j.jsx)(tt.a,{})})})})]})},nt=n(131),at=n(124),rt=n(120),it=n(132),ct=n(133),st=n(121),ot=function(t){var e=t.searchResults,n=t.handleClick;return Object(j.jsx)(ut,{children:Object(j.jsx)(nt.a,{sx:{width:"100%",maxWidth:"inherit",bgcolor:"background.paper",position:"relative",overflow:"auto",maxHeight:300},children:e.map((function(t){return Object(j.jsx)(at.a,{onClick:function(){return n(t)},disablePadding:!0,children:Object(j.jsxs)(rt.a,{children:[Object(j.jsx)(it.a,{children:Object(j.jsx)(st.a,{})}),Object(j.jsx)(ct.a,{primary:t.assignee_organization,secondary:"Number of patents: ".concat(t.assignee_total_num_patents)})]})},t.assignee_id)}))})})},ut=B.a.div(E||(E=Object(K.a)(["\n\tpadding: 2px;\n\tborder-radius: 5px;\n\tbackground-color: #1976d2;\n\tmax-height: 300;\n\tmargin-top: 10px;\n"]))),ht=function(){var t,e=Object(r.useState)(""),n=Object(f.a)(e,2),a=n[0],i=n[1],c=Object(u.f)(),s=g().setCompanyData,o=Y(),h=o.call,v=o.data,O=function(){var t=Object(p.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:n=a,e={q:JSON.stringify({_and:[{_or:[{_and:[{_contains:{assignee_first_name:n}}]},{_and:[{_contains:{assignee_last_name:n}}]},{_and:[{_contains:{assignee_organization:n}}]}]}]}),f:JSON.stringify(["assignee_id","assignee_organization","assignee_total_num_patents","patent_id"]),o:JSON.stringify({per_page:10,matched_subentities_only:!0,sort_by_subentity_counts:"patent_id",page:1}),s:JSON.stringify([{patent_id:"desc"},{assignee_total_num_patents:"desc"},{assignee_organization:"asc"},{assignee_last_name:"asc"},{assignee_first_name:"asc"}])},h({query:e});case 4:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsx)(l.a,{container:!0,height:"100vh",justifyContent:"center",alignItems:"center",children:Object(j.jsx)(l.a,{item:!0,xl:5,md:7,xs:12,children:Object(j.jsxs)(dt,{children:[Object(j.jsx)(b.a,{variant:"h2",fontWeight:"bold",children:"Patent analytics beta"}),Object(j.jsx)(b.a,{children:"Track a company's patents from application to expiration"}),Object(j.jsx)(pt,{children:Object(j.jsx)(et,{handleSearch:O,searchValue:a,handleKeyPress:function(t){"Enter"===t.code&&O()},handleChange:function(t){i(t.target.value)}})}),!!(null===v||void 0===v||null===(t=v.assignees)||void 0===t?void 0:t.length)&&Object(j.jsx)(ot,{searchResults:v.assignees,handleClick:function(t){s(t),c("/analytics")}})]})})})},dt=B.a.div(P||(P=Object(K.a)(["\n\twidth: 100%;\n\theight: 100%;\n"]))),pt=B.a.div(T||(T=Object(K.a)(["\n\tmargin-top: 60px;\n"]))),lt=function(){return Object(j.jsx)(o.a,{children:Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{path:"/",element:Object(j.jsx)(ht,{})}),Object(j.jsx)(u.a,{path:"/analytics",element:Object(j.jsx)(G,{})})]})})},bt=new(function(t){Object(U.a)(n,t);var e=Object(q.a)(n);function n(){return Object(w.a)(this,n),e.call(this,"https://api.patentsview.org",{headers:{"Content-Type":"application/json"}})}return Object(C.a)(n,[{key:"config",value:function(){this.registerEndpoint("/patents/query"),this.registerEndpoint("/assignees/query")}},{key:"getHttpService",value:function(){return D}}]),n}(W)),ft=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),i(t),c(t)}))};n(97);s.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(L,{api:bt,children:Object(j.jsx)(O,{children:Object(j.jsx)(lt,{})})})}),document.getElementById("root")),ft()}},[[98,1,2]]]);
//# sourceMappingURL=main.d3ab467f.chunk.js.map